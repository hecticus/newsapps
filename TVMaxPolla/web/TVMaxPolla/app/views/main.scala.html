@(title: String)(content: Html)

<!DOCTYPE html>

<html>
    <head>
        <title>@title</title>
        
        <meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    	<meta name="description" content="@title">
    	<meta name="author" content="Hecticus Software, Inc.">
    	<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/normalize.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/bootstrap.min.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/animate.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/bootstrap.min.js")" type="text/javascript"></script>
        
        <script src="@controllers.routes.Application.jsRoutes()" type="text/javascript"></script>
        <script src="@routes.Application.javascriptRoutes" type="text/javascript"></script>
        
        <style>
        
        	html {font-size:62.5%;} 	
        	body{font-family: Arial, Helvetica, sans-serif;}
        	

			img.flag {width:67px; height:45px; vertical-align: middle;}
			img.arrow{width:11px; height:8px;  cursor: pointer; }
			
			#brackets {background: url(@routes.Assets.at("images/fondoEsquema.jpg")) left top repeat; height: 670px; }
			
			#brackets .left .content-flag-score { margin: 0 auto;}
			#brackets .right .content-flag-score { margin: 0 auto;}
			
			#brackets .round-16 {margin-top: 0px; }
			#brackets .quarter-finals {margin-top: 43px; overflow: visible; height:auto;   }
			#brackets .semi-finals  {margin-top: 130px; overflow: visible; height:auto; }			
			#brackets .final  {margin-top: 115px; margin-bottom: 100px;}
			
			#brackets .round-16 li {margin-top: 0px; margin-bottom: 10px;}
			#brackets .quarter-finals li {position:relative;  margin-top: 0px; margin-bottom: 90px;}
			#brackets .semi-finals li {position:relative;  margin-top: 0px; margin-bottom: 247px;}			


			#brackets .left .quarter-finals li .llave { overflow:visible; position:absolute;  bottom:-15px; left:-25px; width:50px; height:91px;  background: url(@routes.Assets.at("images/brackets/right/small.png")) no-repeat left center; }
			#brackets .left .semi-finals li .llave { overflow:visible; position:absolute;  bottom:-40px; left:-30px; width:70px; height:151px;  background: url(@routes.Assets.at("images/brackets/right/medium.png")) no-repeat left center; }
			#brackets .finalists .left .llave { overflow:visible; position:absolute;  bottom:-130px; left:-12px; width:70px; height:330px;  background: url(@routes.Assets.at("images/brackets/right/large.png")) no-repeat left center; }
			
			#brackets .right .quarter-finals li .llave { overflow:visible; position:absolute;  bottom:-15px; left:105px; width:50px; height:91px;  background: url(@routes.Assets.at("images/brackets/left/small.png")) no-repeat left center; }
			#brackets .right .semi-finals li .llave { overflow:visible; position:absolute;  bottom:-40px; left:100px; width:70px; height:151px;  background: url(@routes.Assets.at("images/brackets/left/medium.png")) no-repeat left center; }
			#brackets .finalists .right .llave { overflow:visible; position:absolute;  bottom:-130px; left:165px; width:70px; height:330px;  background: url(@routes.Assets.at("images/brackets/left/large.png")) no-repeat left center; }
			
			
			#brackets .final li .llave{overflow:visible; position:absolute;  bottom:-70px; left:96px; width:204px; height:46px;  background: url(@routes.Assets.at("images/brackets/win.png")) no-repeat center top; }
			
			
			.menu, .calcular{cursor:pointer; }
			.menu.group:hover{color:#ffe85c}
			.menu.group.on{color:#ffe85c}
			
			.hidden {visibility:hidden;}
			
			.menu.phase{padding:10px; background-color:#E2EBF9; color:#C4C8D3; font-weight: bold;}

			.menu.phase:hover{background-color:#BEC5DF; color:#ffffff;}
			.menu.phase[data-phase="1"].on{background-color:#BAC6DD; color:#ffffff;}
			.menu.phase[data-phase="2"].on{background-color:#8F9FC0; color:#ffffff;}
			.menu.phase[data-phase="3"].on{background-color:#64789C; color:#ffffff;}
			.menu.phase[data-phase="4"].on{background-color:#455D86; color:#ffffff;}
			.menu.phase[data-phase="6"].on{background-color:#314972; color:#ffffff;}
			
			
			#save {background-color:#f1e916; color:#999999;}
			#save:hover{padding:10px; background-color:#BEC5DF; color:#ffffff;}
			
			
			.content-flag-score {width: 75px; min-height: 60px; text-align: center; padding: 5px; background-color: #ececef; -moz-box-shadow: 3px 3px rgba(214,214,216,0.7); -webkit-box-shadow: 3px 3px rgba(214,214,216,0.7); box-shadow: 3px 3px rgba(214,214,216,0.7); font-size:xx-small; font-weight:bold; }
			.content-flag-score:last-child{margin:5px 0 5px 0;}			
			.content-flag-score.on {background-color:#bababb;  -moz-box-shadow: 3px 3px rgba(226,226,229,0.7); -webkit-box-shadow: 3px 3px rgba(226,226,229,0.7); box-shadow: 3px 3px rgba(226,226,229,0.7); text-align: center;}			
			.content-flag-score.on img.flag {width:75%;}
			
			
		
			.goal {text-align:center;}
			
			ul,li {padding:0; margin:0; border:0; list-style:none outside none; text-align:center;}
			li[data-phase="6"] {float:left;}
			
			
			
			.phase .group .game {background: url(@routes.Assets.at("images/logoFondo.png")) left repeat-x;}
			.phase .group .game:nth-child(2n+1) {background-color:#e2e2e3}
			.phase .group .game:nth-child(2n) {background-color:#eaeaee}
			
			.phase:not([data-phase="1"]) .group:nth-child(2n+1) .game {background-color:#eaeaee}
			.phase:not([data-phase="1"]) .group:nth-child(2n) .game{background-color:#e2e2e3}
			
			.date {font-size:x-small;}
			.name {font-weight:bold;}
        </style>
        
		<script>
	  		$(function() {
	  	
	
	
				
				
	
			
				
				
				


				$.fCompare = function(_groupTeams,_eval) {
					
					var aux = 0;
					var othersTeams= [];
					var afirts = [];
					var asecond = [];
	
					for ( var i = 0; i < 2; i++ ) {
							
							$.each(_groupTeams, function(index,team) { if (eval(_eval)>aux) aux = eval(_eval); });						
							$.each(_groupTeams, function(index,team) {
							
											
								if (eval(_eval) == aux) {
									if (i == 0) {
										afirts.push(team);
									} else {
										asecond.push(team);
									}
								} else {
									othersTeams.push(team);
								}							
							});
							
							aux = 0;
							_groupTeams = othersTeams;
							othersTeam = [];
	
					}
	
					return {firts:afirts,second:asecond};
				};
			







				









			


				$.fgetPhaseActive = function() {
				
					var _return	= false;
					
					$.each(arrPhase, function(index,phase) {
											
						if (phase.active) {
							_return = phase;
							return true;
						}	
						
						if (_return)  {
							return false;
						} 								
					});
					
					return _return;
					
				};


				$.fgetGroupActive = function() {
				
					var _phase = $.fgetPhaseActive();
					var _return	= false;

					$.each(_phase.group, function( index, group) {						
						if (group.active) {
							_return = group;
							return true;
						}
						
						if (_return)  {
							return false;
						}										
					});
					
					return _return;
					
				};



				
				
				






				$.fUpdateStandingGroup2 = function() {

					
					var groupTeams = [];
					var winners= [];	
					var firts;
					var second;

					var points;
					var condition = ['team.points','team.goals.d','team.goals.f'];


					var _group = $.fgetGroupActive();
					_group.classified = [];
					firts = _group.team;


					for (var i = 0; i < 2; i++ ) {
																
						for (var c = 0; c < condition.length ; c++ ) {
					
							points = $.fCompare(firts,condition[c]);
							firts = points.firts;
							second = points.second;

							if (firts.length==1) {								
								winners.push(points.firts);
								firts = points.second;
								c = 3;								
							} else {
								firts = points.firts;
							}
							
						}
					}

					if (winners.length <= 1) {
						
						if (winners.length == 0) {
							console.log('1 Dos o más equipos siguen empatados en la primera posicion -> ' + (_group.name+1));
							$('[data-index="'+(_group.name+1)+'"]').html(_group.name+1);
							$('[data-index="'+(_group.name+2)+'"]').html(_group.name+2);
							$.fUpdateBrackets(2,_group.name,true);
						} else if (winners.length == 1) {
							console.log('1 Dos o más equipos siguen empatados en la segunda posicion -> ' + (_group.name+2));
							$('[data-index="'+(_group.name+2)+'"]').html(_group.name+2);																					
							$.fUpdateBrackets(2,_group.name,true);
						}
						
						
						var deleteTeam = [];
						var deleted = true;
						var gameswinners = [];
						
						/*Busco los eliminados*/
						$.each(_group.team, function(index,team) {
																							
							deleted = true;
							$.each(firts, function(index,value) {											
								if (team.id == value.id) {
									deleted = false;
								}
							});
							
							if (deleted) {
								deleteTeam.push(team);
							}
							
						});
						
						$.each(_group.game, function(index,game) {
															
							deleted = true;
							$.each(deleteTeam, function(index,value) {								
								if ((value.id == game.team[0].id) || (value.id == game.team[1].id)) {
									deleted = false;
								}
							});					
					
							if (deleted) {
								gameswinners.push(game);
							}
																	
						});
						

						$.each(firts, function(index,team) {
								
								team.goals.f = 0;
								team.goals.a = 0;
								team.points = 0;
								
								$.each(gameswinners, function(index,game) {								
									$.each(game.team, function( index, value ) {										
										if (team.id == value.id) {
											team.goals.f += value.goals.f;
											team.goals.a += value.goals.a;
											team.goals.d = 	(team.goals.f - team.goals.a);
											team.points += value.points;
										};
									});
								});

						});

						for (var i = 0; i < 2; i++ ) {	
																	
							for (var c = 0; c < condition.length ; c++ ) {
						
								points = $.fCompare(firts,condition[c]);
								firts = points.firts;
								second = points.second;
	
								if (firts.length==1) {								
									winners.push(points.firts);
									firts = points.second;
									c = 3;								
								} else {
									firts = points.firts;
								}
								
							}
						}
						
						if (winners.length == 0) {
							console.log('2 Dos o más equipos siguen empatados en la primera posicion -> ' + (_group.name+1));							
							$('[data-index="'+(_group.name+1)+'"]').html(_group.name+1);
							$('[data-index="'+(_group.name+2)+'"]').html(_group.name+2);
							$.fUpdateBrackets(2,_group.name,true);
						} else if (winners.length == 1) {
							console.log('2 Dos o más equipos siguen empatados en la segunda posicion -> ' + (_group.name+2));
							$('[data-index="'+(_group.name+2)+'"]').html(_group.name+2);														
							$.fUpdateBrackets(2,_group.name,true);
						} else {
							console.log('2 se resolvio');
						}

					} else {
						console.log('1 Tenesmo primero y segundo lugar definido');
					}


					var classified = [];
								
					$.each(winners, function(index,team) {
						team = team[0];	
						classified.push(team);						
					});

					_group.classified = classified;

					$.each(_group.classified, function( index, team ) {
						
						$.fUpdate(_group.name+(index+1),team,2);						
						var _team = $.fgetTeam( _group.name+(index+1));
						 
						$('.phase[data-phase="2"] .group .game .team[data-team="'+_team.id+'"] .flag').attr('src',team.flag);
						$('.phase[data-phase="2"] .group .game .team[data-team="'+_team.id+'"] .name').html(team.name);						
						$('[data-index="'+_group.name+(index+1)+'"]').html('<figure><img class="flag"  src="'+team.flag+'" alt="Camerún" /><figcaption>'+team.shortName+'</figcaption></figure>');
							
						
					});	


				};


				$.fUpdateBrackets = function(_phase, _name, _group) {
					
				
					
					$.each(arrPhase, function(index, phase) {
						if (phase.id>=_phase) {
								
							
							$.each(phase.group, function(index, group) {							
								if (group.name.indexOf(_name) >= 0) {
									

									if ((_group) || (phase.id > _phase)) {
										$('.phase[data-phase="'+phase.id+'"] .group[data-group="'+group.id+'"] .game .score .team .goal').data('goal',0);
										$('.phase[data-phase="'+phase.id+'"] .group[data-group="'+group.id+'"] .game .score .team .goal').html(0);
									}
									
									$.each(group.game, function( index, game ) {
																																
										
										
										game.team[0].goals.f =0; 
										game.team[1].goals.f =0;
										
										game.team[0].goals.a =0; 
										game.team[1].goals.a =0;
										
										game.team[0].goals.d = 0;
										game.team[1].goals.d = 0;
										
										game.team[0].points = 0;
										game.team[1].points = 0;
										
										
				
									});
									
									
									$.each(group.team, function(index, team) {
										
										
										
										team.goals.f = 0;
										team.goals.a = 0;
										team.goals.d = 0;
										team.points=0;
									});

									

								}
							});	
						}
					});
				};




				




				

















				$.fUpdateStandingPhase22 = function() {
					
					var winners= [];
					var wclassifiedinners= [];		
					var firts;
					var second;
					var points;
					var condition = ['team.points','team.goals.d','team.goals.f'];

	
					
					
					$.each(arrPhase, function(index, phase) {
						
						if (phase.id > 1) {
							
			
							
							$.each(phase.group, function(index, group) {
	
								group.classified = [];
								
								points = $.fCompare(group.team,condition[0]);
								firts = points.firts;
								second = points.second;	
											
								if (firts.length==1) {						
									winners.push(points.firts);
									firts = points.second;												
								} else {
									firts = points.firts;																		
									$.fUpdateBrackets(phase.id, group.name);
									$('[data-index="'+group.name+'"]').html('-');
								}
							
							
							
	
								$.each(winners, function(index,team) {
									team = team[0];
									group.classified.push(team);
								});
							
								winners = [];					
								
								$.each(group.classified, function(index, team) {	

									var _phase = (phase.id+1);		
									if (phase.id == 4) {
										_phase = 6;
										if (group.name.indexOf('W') < 0) {
											group.name = group.name+'W';
										}
									} 
		
		
									$.fUpdate(group.name,team.placeholder,phase);
									var _team = $.fgetTeam(group.name);
									
	
		
									$.fUpdate(group.name,team.placeholder,_phase);
									var _team = $.fgetTeam(group.name);
											
									if (team.placeholder != null) {
									
										if (phase.id == 6) {
											$('[data-index="WIN"]').attr('data-index',group.name);
											$('[data-index="'+group.name+'"]').html('<figure><img class="flag"  src="'+team.placeholder.flag+'" alt="" /><figcaption>'+team.placeholder.shortName+'</figcaption></figure>');	
										} else {
											
											
											$('.phase[data-phase="'+arrPhase[phase.id].id+'"] .group .game .team[data-team="'+_team.id+'"] .flag').attr('src',team.placeholder.flag);
											$('.phase[data-phase="'+arrPhase[phase.id].id+'"] .group .game .team[data-team="'+_team.id+'"] .name').html(team.placeholder.name);

																					
											$('[data-index="'+group.name+'"]').html('<figure><img class="flag"  src="'+team.placeholder.flag+'" alt="" /><figcaption>'+team.placeholder.shortName+'</figcaption></figure>');

										}
										
									}

								});
							
							});

						}

					});

				};



				$.fgetTeam = function(_name) {
					
					$.each(arrDataTeam, function(index,team) {				
						if (team.name==_name){
							_return = team;	
							return false;
						}
					});
					
					return _return;				
						
				};

				$.fgetTeamId = function(_id) {
					
					$.each(arrDataTeam, function(index,team) {				
						if (team.id==_id){
							_return = team;	
							return false;
						}
					});
					
					return _return;				
						
				};


				$.fUpdate = function(_name,_team,_phase) {
					$.each(arrPhase, function(index,phase) {
						if (phase.id == _phase) {						
							$.each(phase.group, function(index,group) {						
								$.each(group.team, function(index,team) {
									if (team.name == _name) {
										team.placeholder = _team;
									}
								});
							});
						}
					});	
				};

				


				

				
				
				
				
				
				
			
				
			
				
				

				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
			
				
				
				
				
				
				$.fgetPhaseActive2 = function(_this) {
				
					var _return	= false;
					var _phase = _this.parents('.phase').data('phase');
					
					$.each(arrPhase, function(index,phase) {
											
						if (phase.id == _phase) {
							_return = phase;
							return true;
						}	
						
						if (_return)  {
							return false;
						} 								
					});
					
					return _return;
					
				};


				$.fgetGroupActive2 = function(_this) {
				
					var _phase = $.fgetPhaseActive2(_this);
					var _return	= false;
					var _group = _this.parents('.group').data('group');

					$.each(_phase.group, function( index, group) {						
						if (group.id == _group) {
							_return = group;
							return true;
						}
						
						if (_return)  {
							return false;
						}										
					});
					
					return _return;
					
				};

				
				$(document).on('click','#save', function() {
					
					var jsonMatches={client:1,matches:[]};
					$.each(arrPhase, function(index,phase) {
						$.each(phase.group, function(index,group) {
							$.each(group.game, function( index, game ) {								
								jsonMatches.matches.push({"id_match":game.id,"score_team_a":game.team[0].goals.f,"score_team_b":game.team[1].goals.f});
							});
						});
					});
					
					$.ajax({
	            		url: 'http://localhost:8080/TVMaxPolla/tvmaxsaveprediction.php?callback=23',
	            		type: 'post',	            		
	            		dataType: 'jsonp',
	            		contentType: "application/json; charset=utf-8",
	            		success: function (data) {
	            			var obj = jQuery.parseJSON(data);
	                		/*console.log(obj.description);
	                		console.log(JSON.stringify(jsonMatches));*/
	                		alert('Predicción guardada');
	            		},
	            		data: jsonMatches
	        		});
				
				
					
				});
				

			

				$(document).on('click','.up, .down', function() {
					

					var _this = $(this);
					var _phase = _this.parents('.phase').data('phase');					
					var _game = _this.parents('.game');
					_game.attr('data-set','true');
					_game = _game.data('game');
					

					/*Oculto menu superior*/
					$.each(arrPhase, function( index,phase) {						
						if (phase.id > _phase) {													
							$('.menu[data-phase="'+phase.id+'"]').addClass('hidden');									
							$('.phase[data-phase="'+phase.id+'"]').addClass('hidden');
						}
					});
					

					var _team =  _this.parents('.team').data('team');

			
					
										
					var group = $.fgetGroupActive2(_this);
					var _eGoal = _this.parents('.team').find('.goal');
					var _iGoal = _eGoal.data('goal');

					_iGoal = parseInt(_iGoal);
					
					if ($(this).hasClass('up')) {
						_iGoal = _iGoal + 1;					
					} else {
						if (_iGoal>=1) {
							_iGoal = _iGoal - 1;
						}
					}	

					_eGoal.data('goal',_iGoal);
					_eGoal.html(_iGoal);

					$.each(group.game, function( index, game ) {
						if (_game == game.id) {
							$.each(game.team, function( index, team ) {
								if (_team == team.id) {
									team.goals.f = _iGoal;
								}
							});
						};
						
					});

					$.each(group.game, function( index, game ) {
																																
						if (game.team[0].goals.f > game.team[1].goals.f) {																		
							game.team[0].points = 3;
							game.team[1].points = 0;																																		
						} else if (game.team[1].goals.f > game.team[0].goals.f) {									
							game.team[0].points = 0;									
							game.team[1].points = 3;		
						} else {
							game.team[0].points = 1;
							game.team[1].points = 1;	
						};
						
						game.team[0].goals.a = game.team[1].goals.f;
						game.team[1].goals.a = game.team[0].goals.f;
				
					});

					$.each(group.team, function( index, team ) {

						team.goals.f = 0;
						team.goals.a = 0;
						team.points = 0;
						
						$.each(group.game, function( index, game ) {
							$.each(game.team, function( index, value ) {
								if (team.id == value.id) {
									team.goals.f += value.goals.f;
									team.goals.a += value.goals.a;
									team.goals.d = 	(team.goals.f - team.goals.a);
									team.points += value.points;
								};
							});
						});

					});
					
					if (_phase == 1) {									
						$.fUpdateStandingGroup2();
						$.fUpdateStandingPhase22();						
					} else {
						$.fUpdateStandingPhase22();
					}

					var _total = 0;
					$.each(arrPhase, function( index,phase) {						
						if (phase.id == _phase) {							
							$.each(phase.group, function( index,group) {
								_total += group.classified.length;
							});								
						}
					});
						
										
						
					if ((_phase == 1) && (_total == 16)) {
						$('.menu[data-phase="'+arrPhase[_phase].id+'"]').removeClass('hidden');																		
					} else if ((_phase == 2) && (_total == 8)) {						
						$('.menu[data-phase="'+arrPhase[_phase].id+'"]').removeClass('hidden');							
					} else if ((_phase == 3) && (_total == 4)) {
						$('.menu[data-phase="'+arrPhase[_phase].id+'"]').removeClass('hidden');							
					} else if ((_phase == 4) && (_total == 2)) {
						$('.menu[data-phase="'+arrPhase[_phase].id+'"]').removeClass('hidden');	
						
					}

				});				



			$(document).on('click','.menu[data-phase]', function() {
				
				var _this = $(this);
				var _phase = $(this).data('phase');

				$('.menu.phase').removeClass('on');				
				$('.menu.phase[data-phase="'+_phase+'"]').addClass('on');
				$('.row.phase').addClass('hidden');
				$('.row.phase[data-phase="'+_phase+'"]').removeClass('hidden');
				$('.row.phase[data-phase="'+_phase+'"] .group').addClass('hidden');
				
				if (_phase == 1) {						
					$('.menu.group').removeClass('hidden');
					$('.row.phase[data-phase="'+_phase+'"] .group[data-group="1"]').removeClass('hidden');
					$('.menu.group[data-group="1"]').addClass('on');						
				} else {
					$('.row.phase[data-phase="'+_phase+'"] .group').removeClass('hidden');
				}
				
				$.each(arrPhase, function(index,phase) {
					phase.active = false;
					if (phase.id == _phase) {
						
						phase.active = true;
						
						if (_phase == 1) {
							$.each(phase.group, function(index,group) {
								group.active = false;
								if (group.id == 1) {
									group.active = true;	
								}
							});	
						}	
						
						
					}
				});
				
			});
			
			$(document).on('click','.menu[data-group]', function() {
				
				var _this = $(this); 
				var _group = $(this).data('group');
				
				$('.menu.group').removeClass('on');
				$('.menu.group[data-group="'+_group+'"]').addClass('on');
				$('.row.group').addClass('hidden');
				$('.row.group[data-group="'+_group+'"]').removeClass('hidden');
				
				$.each(arrPhase, function(index,phase) {
					if (phase.active) {
						$.each(phase.group, function(index,group) {
							group.active = false;
							if (group.id == _group) {
								group.active = true;	
							}
						});
					}
				});
				
			});







			$.fgetUpdate = function() {
				
				
				$.each(arrPhase, function(index,phase) {
					
							
							
							$.each(phase.group, function(index, group) {

								group.active = true;
								$.each(group.game, function( index, game ) {
															
									$.each(game.team, function( index, team ) {							
										team.goals.f = $('.phase[data-phase="'+phase.id+'"] .group[data-group="'+group.id+'"] .game[data-game="'+game.id+'"] .score .team[data-team="'+team.id+'"] .goal').data('goal');
									});
									
									if (game.team[0].goals.f > game.team[1].goals.f) {
										game.team[0].points = 3;
										game.team[1].points = 0;
									} else if (game.team[1].goals.f > game.team[0].goals.f) {
										game.team[0].points = 0;
										game.team[1].points = 3;
									} else {
										game.team[0].points = 1;
										game.team[1].points = 1;
									};
									
									game.team[0].goals.a = game.team[1].goals.f;
									game.team[1].goals.a = game.team[0].goals.f;
									
									
									
								});	
								
								$.each(group.team, function( index, team ) {
		
									team.goals.f = 0;
									team.goals.a = 0;
									team.points = 0;
									
									$.each(group.game, function( index, game ) {
										$.each(game.team, function( index, value ) {
											if (team.id == value.id) {
												team.goals.f += value.goals.f;
												team.goals.a += value.goals.a;
												team.goals.d = 	(team.goals.f - team.goals.a);
												team.points += value.points;
											};
										});
									});

								});
								
								$.fUpdateStandingGroup2();
								
							});
							
							
						
					});

					
				
				
			};




				$( document ).ready(function() {
					
					$.fgetUpdate();					
					$.fUpdateStandingPhase22();
				
					$.each(arrPhase, function( index,phase) {
						
							
						
						
												
						var _total = 0;				
						$.each(phase.group, function( index,group) {
							
							if (phase.id == 1) {							
								group.active = false;
								if (group.id == 1) {
									group.active = true;	
								}						
							}
							
							
							
							_total += group.classified.length;
						});								
						
						
						if ((phase.id == 1) && (_total == 16)) {
							$('.menu[data-phase="'+arrPhase[phase.id].id+'"]').removeClass('hidden');																		
						} else if ((phase.id == 2) && (_total == 8)) {						
							$('.menu[data-phase="'+arrPhase[phase.id].id+'"]').removeClass('hidden');							
						} else if ((phase.id == 3) && (_total == 4)) {
							$('.menu[data-phase="'+arrPhase[phase.id].id+'"]').removeClass('hidden');							
						} else if ((phase.id == 4) && (_total == 2)) {
							$('.menu[data-phase="'+arrPhase[phase.id].id+'"]').removeClass('hidden');	
							
						}
						
					});
							
											
							
					
					
				});










	  		});
	  		
  		</script>
        
    </head>
    <body>

		<div id="fb-root"></div>
		
		<script>
		
			window.fbAsyncInit = function() {
		  	
				FB.init({
					appId      : '647787605309095',
					status     : true, // check login status
					cookie     : true, // enable cookies to allow the server to access the session
					xfbml      : true  // parse XFBML
				});
		
				// Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
				// for any authentication related change, such as login, logout or session refresh. This means that
				// whenever someone who was previously logged out tries to log in again, the correct case below 
				// will be handled. 
			  	FB.Event.subscribe('auth.authResponseChange', function(response) {
			    	// Here we specify what we do with the response anytime this event occurs. 
				    if (response.status === 'connected') {
				      // The response object is returned with a status field that lets the app know the current
				      // login status of the person. In this case, we're handling the situation where they 
				      // have logged in to the app.
				      testAPI();
				    } else if (response.status === 'not_authorized') {
				      // In this case, the person is logged into Facebook, but not into the app, so we call
				      // FB.login() to prompt them to do so. 
				      // In real-life usage, you wouldn't want to immediately prompt someone to login 
				      // like this, for two reasons:
				      // (1) JavaScript created popup windows are blocked by most browsers unless they 
				      // result from direct interaction from people using the app (such as a mouse click)
				      // (2) it is a bad experience to be continually prompted to login upon page load.
				      FB.login();
				    } else {
				      // In this case, the person is not logged into Facebook, so we call the login() 
				      // function to prompt them to do so. Note that at this stage there is no indication
				      // of whether they are logged into the app. If they aren't then they'll see the Login
				      // dialog right after they log in to Facebook. 
				      // The same caveats as above apply to the FB.login() call here.
				      FB.login();
				    }
			  	});
			};
		
			// Load the SDK asynchronously
			(function(d){
				var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
			   	if (d.getElementById(id)) {return;}
			   	js = d.createElement('script'); js.id = id; js.async = true;
			   	js.src = "//connect.facebook.net/en_US/all.js";
			   	ref.parentNode.insertBefore(js, ref);
			  }(document));
		
			  // Here we run a very simple test of the Graph API after login is successful. 
			  // This testAPI() function is only called in those cases. 
			  function testAPI() {
		  	
					console.log('Welcome!  Fetching your information.... ');
		    
				    FB.api('/me?scope=email', function(response) {
				    	console.log('Good to see you id, ' + response.id + '.');
				      	console.log('Good to see you name, ' + response.name + '.');
				      	console.log('Good to see you first_name, ' + response.first_name + '.');
				      	console.log('Good to see you last_name, ' + response.last_name + '.');
				      	console.log('Good to see you email, ' + response.email + '.');
				    });
		    
			    	FB.api('/me/friendlists',
					    function (response) {
						      if (response && !response.error) {
						        /* handle the result */
									console.log('handle the result '+response.data.length);
						      } 
					    }
					);

		  		}
		</script>


		
			
    	<script>
			var arrPhase = [];
			var arrGroup = [];
			var arrGame	= [];
			var arrTeamGame = [];
			var arrTeam	= [];
			var arrDataTeam	= [];
		</script>
	
		<div class="container">
			
			
			
			
			<div class="row" >
				<div class="col-md-12" style="background-color:#173069; color:#FFFFFF; font-weight: bold; text-align: left;"  >
					<span>Regístrate gratis</span>
				</div>
			</div>
			
			<div class="row" style="padding: 0; margin:15px 0;">
				<div class="col-md-12" style="padding: 0;" >
					<fb:login-button show-faces="true" width="200" max-rows="1"></fb:login-button>	
				</div>
			</div>
			
			
			@content
							
		</div>
		
		
    	
		
    </body>
</html>
